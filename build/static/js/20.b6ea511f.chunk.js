(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{219:function(e,t,a){"use strict";var r=a(4),n=a(5),o=a(7),l=a(6),c=a(8),i=a(0),s=a.n(i),u=a(22),m=a.n(u),d=a(220),p=a.n(d),g=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"}},s.a.createElement("div",{className:"block m-0"},s.a.createElement("div",{className:"block-content p-0"},s.a.createElement("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box")},!this.props.disable_back_button&&s.a.createElement("div",{className:"input-group-prepend"},this.props.back_to_home&&s.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},s.a.createElement("i",{className:"si si-arrow-left"}),s.a.createElement(m.a,{duration:"500"})),this.props.goto_orders_page&&s.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-orders")},200)}},s.a.createElement("i",{className:"si si-arrow-left"}),s.a.createElement(m.a,{duration:"500"})),this.props.goto_accounts_page&&s.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-account")},200)}},s.a.createElement("i",{className:"si si-arrow-left"}),s.a.createElement(m.a,{duration:"500"})),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&s.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.goBack()},200)}},s.a.createElement("i",{className:"si si-arrow-left"}),s.a.createElement(m.a,{duration:"500"}))),s.a.createElement("p",{className:"form-control search-input d-flex align-items-center"},this.props.logo&&s.a.createElement("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?s.a.createElement(s.a.Fragment,null,this.props.from_checkout?s.a.createElement("span",{className:"nav-page-title"},localStorage.getItem("cartToPayText")," ",s.a.createElement("span",{style:{color:localStorage.getItem("storeColor")}},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.title,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))):s.a.createElement("span",{className:"nav-page-title"},this.props.title)):null,this.props.has_delivery_icon&&s.a.createElement(p.a,{left:!0},s.a.createElement("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"}))),this.props.has_restaurant_info?s.a.createElement("div",{className:"fixed-restaurant-info hidden",ref:function(t){e.heading=t}},s.a.createElement("span",{className:"font-w700 fixedRestaurantName"},this.props.restaurant.name),s.a.createElement("br",null),s.a.createElement("span",{className:"font-w400 fixedRestaurantTime"},s.a.createElement("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText"))):null,s.a.createElement("div",{className:"input-group-append"},!this.props.disable_search&&s.a.createElement("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"}},s.a.createElement("i",{className:"si si-magnifier"}),s.a.createElement(m.a,{duration:"500"})),this.props.homeButton&&s.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-home-btn",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},s.a.createElement("i",{className:"si si-home fa-2x text-muted"}),s.a.createElement(m.a,{duration:"500"}))))))))}}]),t}(i.Component);g.contextTypes={router:function(){return null}},t.a=g},221:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=function(e){if(e){var t=parseFloat(e);return t=t.toFixed(2)}return 0}},227:function(e,t,a){e.exports=a(236)()},231:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Star",{enumerable:!0,get:function(){return _star.default}}),exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(0)),_propTypes=_interopRequireDefault(__webpack_require__(227)),_star=_interopRequireDefault(__webpack_require__(238));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var a={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}}return a.default=e,t&&t.set(e,a),a}function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var a,r,n=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){_defineProperty(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(){var e="undefined"!==typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0;e&&e(module)}();var __signature__="undefined"!==typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Rater=function(_Component){function Rater(e){var t;return _classCallCheck(this,Rater),(t=_possibleConstructorReturn(this,_getPrototypeOf(Rater).call(this,e))).state={rating:e.rating,lastRating:e.rating,isRating:!1},t}return _inherits(Rater,_Component),_createClass(Rater,[{key:"willRate",value:function(e,t){this.setState({rating:e,isRating:!0});var a=this.props.onRating;a&&a(_objectSpread({},t,{rating:e}))}},{key:"onRate",value:function(e,t){this.setState({rating:e,lastRating:e,isRating:!1});var a=this.props.onRate;a&&a(_objectSpread({},t,{rating:e}))}},{key:"onCancelRate",value:function(){var e=this.state.lastRating;this.setState({rating:e,isRating:!1});var t=this.props.onCancelRate;t&&t({rating:e})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){var a=e.rating;a!==t.rating&&this.setState({rating:a,lastRating:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.total,r=t.interactive,n=t.children,o=_objectWithoutProperties(t,["total","interactive","children"]),l=this.state,c=l.rating,i=l.isRating;n=_react.Children.toArray(n),delete o.rating,delete o.onRate,delete o.onRating,delete o.onCancelRate;var s=Array.apply(null,Array(a)).map(function(t,a){var o={isActive:!i&&c-a>=1,willBeActive:i&&a<c,isActiveHalf:!i&&c-a>=.5&&c-a<1,isDisabled:!r};return _react.default.createElement("div",{key:"star-".concat(a),onClick:r?e.onRate.bind(e,a+1):null,onMouseOver:r?e.willRate.bind(e,a+1):null},n.length?_react.default.cloneElement(n[a%n.length],o):_react.default.createElement(_star.default,o))});return r?_react.default.createElement("div",_extends({className:"react-rater",onMouseOut:this.onCancelRate.bind(this)},o),s):_react.default.createElement("div",_extends({className:"react-rater"},o),s)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Rater}(_react.Component);exports.default=Rater,Rater.propTypes={total:_propTypes.default.number,rating:_propTypes.default.number,interactive:_propTypes.default.bool,children:_propTypes.default.any,onRate:_propTypes.default.func,onRating:_propTypes.default.func,onCancelRate:_propTypes.default.func},Rater.defaultProps={total:5,rating:0,interactive:!0},function(){var e="undefined"!==typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;e&&e.register(Rater,"Rater","/Users/simon/Individual/react-rater/src/index.js")}(),function(){var e="undefined"!==typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0;e&&e(module)}()}).call(this,__webpack_require__(226)(module))},236:function(e,t,a){"use strict";var r=a(237);function n(){}function o(){}o.resetWarningCache=n,e.exports=function(){function e(e,t,a,n,o,l){if(l!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:n};return a.PropTypes=a,a}},237:function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},238:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(0)),n=o(a(227));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}!function(){var t="undefined"!==typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0;t&&t(e)}();"undefined"!==typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=function(e){var t=Object.assign({},e),a={isDisabled:"is-disabled",isActive:"is-active",isActiveHalf:"is-active-half",willBeActive:"will-be-active"},n=Object.keys(a).filter(function(a){return delete t[a],e[a]}).map(function(e){return a[e]}).join(" ");return r.default.createElement("div",l({className:"react-rater-star ".concat(n)},t),"\u2605")};c.defaultProps={willBeActive:!1,isActive:!1,isActiveHalf:!1,isDisabled:!1},c.propTypes={isActive:n.default.bool,isActiveHalf:n.default.bool,willBeActive:n.default.bool,isDisabled:n.default.bool};var i=c,s=i;t.default=s,function(){var e="undefined"!==typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;e&&(e.register(c,"Star","/Users/simon/Individual/react-rater/src/star.js"),e.register(i,"default","/Users/simon/Individual/react-rater/src/star.js"))}(),function(){var t="undefined"!==typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0;t&&t(e)}()}).call(this,a(226)(e))},239:function(e,t,a){},340:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a(5),o=a(7),l=a(6),c=a(8),i=a(0),s=a.n(i),u=a(84),m=a(11),d=a(10),p=a.n(d),g=a(219),f=a(46),y=a(47),h=a(22),b=a.n(h),v=a(228),_=a.n(v),E=a(221),S=a(207),x=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},a.handlePopupOpen=function(){a.setState({open:!0})},a.handlePopupClose=function(){a.setState({open:!1})},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.order,a=e.user,r=e.cancelOrder;return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn btn-square btn-sm btn-outline-danger mb-0 mt-15",style:{position:"relative",fontSize:"0.8rem"},onClick:this.handlePopupOpen},localStorage.getItem("cancelOrderMainButton"),s.a.createElement(b.a,{duration:"500"})),s.a.createElement(S.a,{open:this.state.open,onClose:this.handlePopupClose,closeIconSize:32},s.a.createElement("div",{className:"text-center mt-100"},s.a.createElement("div",{style:{fontSize:"1.2rem",fontWeight:"500"}},s.a.createElement("i",{className:"si si-info",style:{fontSize:"4rem",opacity:"0.3",color:"#FF9800"}}),s.a.createElement("p",null,t.unique_order_id),s.a.createElement("p",null,localStorage.getItem("orderCancellationConfirmationText")),1===t.orderstatus_id?s.a.createElement(s.a.Fragment,null,"COD"!==t.payment_mode&&s.a.createElement("p",{className:"text-muted font-w400"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),t.total," ","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),localStorage.getItem("willBeRefundedText")),"COD"===t.payment_mode&&t.total-t.payable!==0&&s.a.createElement("p",{className:"text-muted font-w400"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),Object(E.a)(t.total-t.payable)," ","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),localStorage.getItem("willBeRefundedText"))):s.a.createElement("p",{className:"text-muted font-w400"},localStorage.getItem("willNotBeRefundedText"))),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-lg btn-danger mr-3",onClick:function(){return r(a.data.auth_token,a.data.id,t.id)},style:{border:"0",borderRadius:"0",backgroundColor:localStorage.getItem("storeColor")}},localStorage.getItem("yesCancelOrderBtn")),s.a.createElement("button",{onClick:this.handlePopupClose,className:"btn btn-lg",style:{border:"0",borderRadius:"0"}},localStorage.getItem("cancelGoBackBtn"))))))}}]),t}(i.Component),O=a(94),w=a(231),N=a.n(w),I=(a(239),a(13)),j=a(3),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,loading:!1,message:"",ratingInput:5},a.handlePopupOpen=function(){a.setState({open:!0})},a.handlePopupClose=function(){a.setState({open:!1})},a.handleSubmit=function(e){e.preventDefault();var t=Object(O.a)(Object(O.a)(a));return t.setState({loading:!0}),void 0!==a.message&&void 0!==a.ratingInput&&p.a.post(j.a+"/public/api/ratingsystempro/store",{message:a.message,rating:a.ratingInput,token:a.props.user.data.auth_token,order_id:a.props.order.id,restaurant_id:a.props.order.restaurant_id,type:"store"}).then(function(e){e.data.status&&setTimeout(function(){t.setState({open:!1}),window.location.reload(),t.setState({loading:!1})},1e3)}).catch(function(e){console.log(e),t.setState({loading:!1})}),!1},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props.message;return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn btn-square btn-sm btn-primary mb-0 mt-15",style:{position:"relative",fontSize:"0.8rem"},onClick:this.handlePopupOpen},localStorage.getItem("RestaurantRating"),s.a.createElement(b.a,{duration:"500"})),s.a.createElement(S.a,{open:this.state.open,onClose:this.handlePopupClose,closeIconSize:32},s.a.createElement("div",{className:"text-center mt-100"},this.state.loading&&s.a.createElement(I.a,null),s.a.createElement("i",{className:"si si-speech",style:{fontSize:"4rem",marginBottom:"10px",opacity:"0.3",color:"#2196F3"}}),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{style:{fontSize:"1.2rem",fontWeight:"500",padding:"20px 0"}},s.a.createElement("p",{style:{marginBottom:"2.2rem"}},localStorage.getItem("LeaveQualification")),s.a.createElement("textarea",{name:"message",onChange:this.handleChange,cols:"40",onBlur:function(t){var a=t.currentTarget.value;e.message=a},rows:"3"},t),s.a.createElement(N.a,{total:5,rating:this.ratingInput,onRate:function(t){e.ratingInput=t.rating},onRating:function(t){e.ratingInput=t.rating},style:{fontSize:"1.8rem"}})),s.a.createElement("div",null,s.a.createElement("button",{type:"button",onClick:this.handlePopupClose,className:"btn btn-lg mr-3",style:{border:"0",borderRadius:"0"}},localStorage.getItem("cancelGoBackBtn")),s.a.createElement("button",{type:"submit",className:"btn btn-lg btn-success",style:{border:"0",borderRadius:"0"}},localStorage.getItem("SAVE")))))))}}]),t}(i.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,loading:!1,message:"",ratingInput:5},a.handlePopupOpen=function(){a.setState({open:!0})},a.handlePopupClose=function(){a.setState({open:!1})},a.handleSubmit=function(e){e.preventDefault();var t=Object(O.a)(Object(O.a)(a));return t.setState({loading:!0}),void 0!==a.message&&void 0!==a.ratingInput&&p.a.post(j.a+"/public/api/ratingsystempro/store",{message:a.message,rating:a.ratingInput,token:a.props.user.data.auth_token,order_id:a.props.order.id,restaurant_id:a.props.order.restaurant_id,type:"delivery_guy"}).then(function(e){e.data.status&&setTimeout(function(){t.setState({open:!1}),window.location.reload(),t.setState({loading:!1})},1e3)}).catch(function(e){console.log(e),t.setState({loading:!1})}),!1},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props.message;return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn btn-square btn-sm btn-primary mb-0 mt-15",style:{position:"relative",fontSize:"0.8rem"},onClick:this.handlePopupOpen},localStorage.getItem("DeliveryGuyRating"),s.a.createElement(b.a,{duration:"500"})),s.a.createElement(S.a,{open:this.state.open,onClose:this.handlePopupClose,closeIconSize:32},s.a.createElement("div",{className:"text-center mt-100"},this.state.loading&&s.a.createElement(I.a,null),s.a.createElement("i",{className:"si si-speech",style:{fontSize:"4rem",marginBottom:"10px",opacity:"0.3",color:"#2196F3"}}),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{style:{fontSize:"1.2rem",fontWeight:"500",padding:"20px 0"}},s.a.createElement("p",{style:{marginBottom:"2.2rem"}},localStorage.getItem("LeaveQualificationDeliveryGuy")),s.a.createElement("textarea",{name:"message",onChange:this.handleChange,cols:"40",onBlur:function(t){var a=t.currentTarget.value;e.message=a},rows:"3"},t),s.a.createElement(N.a,{total:5,rating:this.ratingInput,onRate:function(t){e.ratingInput=t.rating},onRating:function(t){e.ratingInput=t.rating},style:{fontSize:"1.8rem"}})),s.a.createElement("div",null,s.a.createElement("button",{type:"button",onClick:this.handlePopupClose,className:"btn btn-lg mr-3",style:{border:"0",borderRadius:"0"}},localStorage.getItem("cancelGoBackBtn")),s.a.createElement("button",{type:"submit",className:"btn btn-lg btn-success",style:{border:"0",borderRadius:"0"}},localStorage.getItem("SAVE")))))))}}]),t}(i.Component),R=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).__getOrderStatus=function(e){return 1===e?localStorage.getItem("orderPlacedStatusText"):2===e?localStorage.getItem("preparingOrderStatusText"):3===e?localStorage.getItem("deliveryGuyAssignedStatusText"):4===e?localStorage.getItem("orderPickedUpStatusText"):5===e?localStorage.getItem("deliveredStatusText"):6===e?localStorage.getItem("canceledStatusText"):7===e?localStorage.getItem("readyForPickupStatusText"):8===e?localStorage.getItem("awaitingPaymentStatusText"):9===e?localStorage.getItem("paymentFailedStatusText"):void 0},a._getTotalItemCost=function(e){var t=parseFloat(e.price)*e.quantity;return e.order_item_addons.length&&e.order_item_addons.map(function(a){return t+=parseFloat(a.addon_price)*e.quantity}),Object(E.a)(t)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.add("bg-grey")}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey")}},{key:"render",value:function(){var e=this,t=this.props,a=t.order,r=t.user,n=t.cancelOrder;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb-20 bg-white p-3",style:{borderRadius:"0.275rem"}},s.a.createElement("div",{className:"pull-right"},(1===a.orderstatus_id||2===a.orderstatus_id||3===a.orderstatus_id||4===a.orderstatus_id||7===a.orderstatus_id||8===a.orderstatus_id)&&s.a.createElement(y.a,{to:"/running-order/".concat(a.unique_order_id),className:"btn btn-square btn-outline-secondary mb-10 order-track-button",delay:250,style:{position:"relative"}},localStorage.getItem("trackOrderText"),s.a.createElement("span",{className:"pulse ml-2"}),s.a.createElement(b.a,{duration:"500"}))),s.a.createElement("div",{className:"display-flex"},s.a.createElement("div",{className:"flex-auto"},s.a.createElement("button",{className:"mr-5 btn btn-square btn-outline-secondary min-width-125 mb-10 order-status-button text-muted ".concat(6===a.orderstatus_id&&"text-danger"," ")},this.__getOrderStatus(a.orderstatus_id)))),s.a.createElement("span",{className:"text-muted pull-right",style:{fontSize:"0.9rem"}},"true"===localStorage.getItem("showFromNowDate")?s.a.createElement(_.a,{fromNow:!0},a.created_at):s.a.createElement(_.a,{format:"DD/MM/YYYY hh:mma"},a.created_at)),s.a.createElement("div",{className:"flex-auto"},s.a.createElement("h6",{className:"font-w700 mb-2",style:{color:localStorage.getItem("storeColor")}},a.unique_order_id),a.restaurant&&s.a.createElement(y.a,{to:"/stores/".concat(a.restaurant.slug),delay:100},s.a.createElement("h6",{className:"font-w600"},a.restaurant.name))),s.a.createElement("hr",null),a.orderitems.map(function(t){return s.a.createElement("div",{className:"mb-2",key:t.id},s.a.createElement("div",{className:"display-flex pb-5"},s.a.createElement("span",{className:"order-item-quantity mr-10"},"x",t.quantity),s.a.createElement("div",{className:"flex-auto text-left font-w600"},t.name),s.a.createElement("div",{className:"flex-auto text-right font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e._getTotalItemCost(t),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),t.order_item_addons.map(function(e){return s.a.createElement("div",{className:"display-flex pb-5",key:e.id},s.a.createElement("div",{className:"flex-auto text-left"},s.a.createElement("small",null,e.addon_name)),s.a.createElement("div",{className:"flex-auto text-right"},s.a.createElement("small",null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e.addon_price,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))}))}),s.a.createElement("hr",null),s.a.createElement(s.a.Fragment,null,a.coupon_name&&s.a.createElement("div",{className:"display-flex mt-10 font-w700"},s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flex-auto"},s.a.createElement("small",null,"Coupon: ")),s.a.createElement("div",{className:"flex-auto text-right"},s.a.createElement("small",null,a.coupon_name)))),s.a.createElement("div",{className:"display-flex mt-10"},s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flex-auto"},s.a.createElement("small",null,localStorage.getItem("cartRestaurantCharges"),":")," "),s.a.createElement("div",{className:"flex-auto text-right"},s.a.createElement("small",null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.restaurant_charge,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))),s.a.createElement("div",{className:"display-flex mt-10"},s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flex-auto"},s.a.createElement("small",null,localStorage.getItem("cartDeliveryCharges"),":")," "),s.a.createElement("div",{className:"flex-auto text-right"},s.a.createElement("small",null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.delivery_charge,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))))),a.tax&&s.a.createElement("div",{className:"display-flex mt-10 font-w700"},s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flex-auto"},s.a.createElement("small",null,localStorage.getItem("taxText"),": ")),s.a.createElement("div",{className:"flex-auto text-right text-danger"},s.a.createElement("small",null,s.a.createElement("span",null,"+"),a.tax,"%")))),s.a.createElement("div",{className:"display-flex mt-10 font-w700"},s.a.createElement("div",{className:"flex-auto"},localStorage.getItem("orderTextTotal")),s.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.total,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),1===a.orderstatus_id&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pull-right"},s.a.createElement(x,{order:a,user:r,cancelOrder:n})),s.a.createElement("div",{className:"clearfix"})),5===a.orderstatus_id&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"display-flex mt-10 font-w700"},!1===a.isRating&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pull-right mr-2"},s.a.createElement(k,{order:a,user:r})),s.a.createElement("div",{className:"clearfix"})),!1===a.isRatingDeliveryGuy&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pull-right"},s.a.createElement(C,{order:a,user:r})),s.a.createElement("div",{className:"clearfix"}))))))}}]),t}(i.Component),P=a(359),T=a(17),F=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={no_orders:!1,cancelSuccess:!1},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;e.success&&this.props.getOrders(e.data.auth_token,e.data.id)}},{key:"componentWillReceiveProps",value:function(e){if(0===e.orders.length&&this.setState({no_orders:!0}),this.props.cancel!==e.cancel&&e.cancel.success){this.setState({cancelSuccess:!0});var t=this.props.user;t.success&&this.props.getOrders(t.data.auth_token,t.data.id)}}},{key:"render",value:function(){var e=this;if(window.innerWidth>768)return s.a.createElement(P.a,{to:"/"});var t=this.props,a=t.user,r=t.orders;return null===localStorage.getItem("storeColor")?s.a.createElement(P.a,{to:"/"}):a.success?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{boxshadow:!0,has_title:!0,title:localStorage.getItem("accountMyOrders"),disable_search:!0,goto_accounts_page:!0,homeButton:!0}),this.state.cancelSuccess&&s.a.createElement("div",{className:"auth-error cancel-success"},s.a.createElement("div",{className:""},localStorage.getItem("orderCancelledText"))),s.a.createElement("div",{className:"block-content block-content-full pt-80 pb-80 height-100-percent px-15"},0===r.length&&!this.state.no_orders&&s.a.createElement(f.a,{height:600,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"75",height:"22"}),s.a.createElement("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"350",height:"18"}),s.a.createElement("rect",{x:"0",y:"60",rx:"0",ry:"0",width:"300",height:"18"}),s.a.createElement("rect",{x:"0",y:"90",rx:"0",ry:"0",width:"100",height:"18"}),s.a.createElement("rect",{x:"0",y:170,rx:"0",ry:"0",width:"75",height:"22"}),s.a.createElement("rect",{x:"0",y:200,rx:"0",ry:"0",width:"350",height:"18"}),s.a.createElement("rect",{x:"0",y:230,rx:"0",ry:"0",width:"300",height:"18"}),s.a.createElement("rect",{x:"0",y:260,rx:"0",ry:"0",width:"100",height:"18"}),s.a.createElement("rect",{x:"0",y:340,rx:"0",ry:"0",width:"75",height:"22"}),s.a.createElement("rect",{x:"0",y:370,rx:"0",ry:"0",width:"350",height:"18"}),s.a.createElement("rect",{x:"0",y:400,rx:"0",ry:"0",width:"300",height:"18"}),s.a.createElement("rect",{x:"0",y:430,rx:"0",ry:"0",width:"100",height:"18"})),0===r.length&&s.a.createElement("div",{className:"text-center mt-50 font-w600 text-muted"},localStorage.getItem("noOrdersText")),r.map(function(t){return s.a.createElement(R,{key:t.id,order:t,user:a,cancelOrder:e.props.cancelOrder,cancel:e.props.cancel})}))):s.a.createElement(P.a,{to:"/login"})}}]),t}(i.Component);t.default=Object(T.b)(function(e){return{user:e.user.user,orders:e.orders.orders,cancel:e.orders.cancel}},{getOrders:function(e,t){return function(a){p.a.post(m.t,{token:e,user_id:t}).then(function(e){var t=e.data;return a({type:u.b,payload:t})}).catch(function(e){console.log(e)})}},cancelOrder:function(e,t,a){return function(r){p.a.post(m.u,{token:e,user_id:t,order_id:a}).then(function(e){var t=e.data;return r({type:u.a,payload:t})}).catch(function(e){console.log(e)})}}})(F)}}]);